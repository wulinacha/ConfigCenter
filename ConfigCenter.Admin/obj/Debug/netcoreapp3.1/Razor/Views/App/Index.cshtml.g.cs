#pragma checksum "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "acf23c3e07c22208ae0057d56e3a29828a8bd359"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_App_Index), @"mvc.1.0.view", @"/Views/App/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\_ViewImports.cshtml"
using ConfigCenter;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\_ViewImports.cshtml"
using ConfigCenter.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
using Microsoft.AspNetCore.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
using Webdiyer.AspNetCore;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"acf23c3e07c22208ae0057d56e3a29828a8bd359", @"/Views/App/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0e1613d04d5cb382e6afa50c4abd37af8c889049", @"/Views/_ViewImports.cshtml")]
    public class Views_App_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<PagedList<ConfigCenter.Dto.AppDto>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<script type=""text/javascript"">
    var platform = '';
    var noLogin = 0;
    $(function () {
        $(""table a[class='btn btn-info']"").click(function () {
            edit($(this).attr('data-id'));
        });

        $(""table a[class='btn btn-danger']"").click(function () {
            del($(this).attr('data-id'));
        });

        $('#newplatform').click(function () {
            $('div.modal-body').html('');
            $('#add_tmpl').tmpl().appendTo('div.modal-body');
            $('#myModalLabel').text('添加');
        });
    });

    function edit(id) {
        $.getJSON('/App/GetAppByid', { ""id"": id, random: Math.random() }, function (data) {
            if (data.success) {
                $('div.modal-body').html('');
                $('#edit_tmpl').tmpl(data.data).appendTo('div.modal-body');
                $('#myModalLabel').text('修改');
            } else {
                if (data.errorType == noLogin)
                    window.location.href = ""/Login"";
         ");
            WriteLiteral(@"       else
                    alert(""获取失败"");
            }
        });
    }

    function del(id) {
        if (confirm(""确定删除吗?"")) {
            $.post('/App/DeleteAppByid', { ""id"": id, random: Math.random() }, function (data) {
                if (data.success) {
                    window.location.reload();
                } else {
                    if (data.errorType == noLogin)
                        window.location.href = ""/Login"";
                    else
                        alert(""删除失败"");
                }
            });
        }
    }
    function save() {
        var data = $('#edit_form').serialize() || $('#form_add').serialize();
        $.post('/App/SaveApp', data, function (res) {
            if (res.success) {
                window.location.reload();
            } else {
                if (data.errorType == noLogin)
                    window.location.href = ""/Login"";
                else
                    alert(""保存失败"");
            }
        });
 ");
            WriteLiteral(@"   };
    function InitPassword() {
        var data = $('#edit_form').serialize() || $('#form_add').serialize();
        $.post('/App/InitAccountPassword', data, function (res) {
            if (res.success) {
                alert(""初始化成功"");
            }
        });
    };
</script>

<ol class=""breadcrumb"">
    <li><a href=""/Login"">配置中心</a></li>
    <li class=""active"">应用列表( <a id=""newplatform"" data-toggle=""modal"" data-target=""#myModal"">添加新应用</a>)</li>
");
            WriteLiteral("</ol>\r\n");
#nullable restore
#line 81 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
 using (Html.BeginForm("Index", ViewContext.RouteData.Values["Controller"].ToString(), new RouteValueDictionary { { "pageindex", "" } }, FormMethod.Get, true, ""))
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"form-inline well well-sm\">\r\n");
#nullable restore
#line 84 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
         if (ViewData["roleName"].ToString() == ConfigCenter.Dto.UserEnum.RoleEnum.管理员.ToString())
        {


#line default
#line hidden
#nullable disable
            WriteLiteral("            <span>Appid  </span><input type=\"text\" name=\"kword\"");
            BeginWriteAttribute("value", " value=\"", 3182, "\"", 3246, 1);
#nullable restore
#line 87 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
WriteAttributeValue("", 3190, _httpContextAccessor.HttpContext.Request.Query["kword"], 3190, 56, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width: 120px\" class=\"form-control\" />\r\n            <input type=\"submit\" value=\"搜索(S)\" accesskey=\"S\" class=\"btn btn-default\" />\r\n");
#nullable restore
#line 89 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral("    </div>\r\n");
#nullable restore
#line 91 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 93 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
Write(Html.Partial("_AppTable", Model));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 95 "D:\Project\基础框架\configcenter\ConfigCenter.Admin\Views\App\Index.cshtml"
Write(Html.Pager(Model, new PagerOptions { HorizontalAlign = "right", CssClass = "pagination", CurrentPagerItemTemplate = "<li class=\"active\"><a href=\"#\">{0}</a></li>", DisabledPagerItemTemplate = "<li class=\"disabled\"><a>{0}</a></li>", PagerItemTemplate = "<li>{0}&nbsp;</li>", Id = "bootstrappager" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

<!-- Modal -->
<div class=""modal fade"" id=""myModal"" tabindex=""-1"" role=""dialog"" aria-labelledby=""myModalLabel"" aria-hidden=""true"">
    <div class=""modal-dialog"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-hidden=""true"">&times;</button>
                <h4 class=""modal-title"" id=""myModalLabel"">Modal title</h4>
            </div>
            <div class=""modal-body"">
            </div>
        </div>
    </div>
</div>

<script type=""text/x-jquery-tmpl"" id=""add_tmpl"">
    <form id=""form_add"" class=""form-horizontal"" role=""form"">
        <div class=""form-group"">
            <label class=""col-sm-3 control-label"">应用名称</label>
            <div class=""col-xs-8"">
                <input type=""text"" class=""form-control"" name=""AppId"" value="""" placeholder=""应用名称"">
            </div>
        </div>
        <div class=""form-group"">
            <label class=""col-sm-3 control-label"">应用环境</label");
            WriteLiteral(@">
            <div class=""col-xs-8"">
                <select class=""form-control"" name=""Environment"">
                    <option value=""DEV"">DEV(开发环境)</option>
                    <option value=""ALPHA"">ALPHA(测试环境)</option>
                    <option value=""PROD"">PROD(正式环境)</option>
                </select>
            </div>
        </div>
        <div class=""form-group"">
            <div class=""col-sm-offset-2 col-sm-10"">
                <button type=""button"" class=""btn btn-primary"" onclick=""save();"">添加</button>
            </div>
        </div>
    </form>
</script>

<script type=""text/x-jquery-tmpl"" id=""edit_tmpl"">
    <form id=""edit_form"" class=""form-horizontal"" role=""form"">
        <div class=""form-group"">
            <label class=""col-sm-3 control-label"">应用名称</label>
            <div class=""col-xs-8"">
                <input type=""text"" class=""form-control"" name=""AppId"" value=""${appId}"">
            </div>
        </div>
        <div class=""form-group"">
            <label cla");
            WriteLiteral(@"ss=""col-sm-3 control-label"">应用环境</label>
            <div class=""col-xs-8"">
                <select class=""form-control"" name=""Environment"">
                    {{each envs}}
                    <option value=""${$value.name}"">${$value.desc}</option>
                    {{/each}}
");
            WriteLiteral(@"                </select>
            </div>
        </div>
        <div class=""form-group"">
            <label class=""col-sm-3 control-label"">应用版本号</label>
            <div class=""col-xs-8"">
                <input type=""text"" class=""form-control"" name=""Version"" value=""${version}"">
            </div>
        </div>
        <div class=""form-group"">
            <div class=""col-sm-offset-2 col-sm-10"">
                <button type=""button"" class=""btn btn-primary"" onclick=""save();"">提交</button>
                <input type=""hidden"" name=""id"" value=""${id}"" />
            </div>
        </div>
    </form>
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Microsoft.AspNetCore.Http.IHttpContextAccessor _httpContextAccessor { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<PagedList<ConfigCenter.Dto.AppDto>> Html { get; private set; }
    }
}
#pragma warning restore 1591
